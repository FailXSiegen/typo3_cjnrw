<html xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true">
    <f:asset.css 
        identifier="accordion"
        href="EXT:cjnrw/Resources/Public/StyleSheet/accordion.css" />
    <div class="accordion {f:render(partial:'Divclasses',arguments:{data:data})}" id="c{data.uid}">
        <f:if condition="{data.particle_active}">
            <f:render partial="Particle" arguments="{_all}" />
        </f:if>
        <f:if condition="{data.grid_active}">
            <f:render partial="Grid" arguments="{_all}" />
        </f:if>
        <f:for each="{content}" as="child" iteration="it">
            <div class="accordion-item">
                <h2 class="accordion-header" id="c{data.uid}heading{it.cycle}">
                    <button class="accordion-button collapsed" 
                        type="button" 
                        data-bs-toggle="collapse" 
                        data-bs-target="#c{data.uid}collapse{it.cycle}" 
                        aria-expanded="false"
                        aria-controls="c{data.uid}collapse{it.cycle}">
                            {child.header}
                      </button>
                </h2>
                <div id="c{data.uid}collapse{it.cycle}" 
                    class="accordion-collapse collapse" 
                    aria-labelledby="c{data.uid}heading{it.cycle}" 
                    data-bs-parent="#c{data.uid}">
                    <div class="accordion-body">
                        <f:format.raw>{child.renderedContent}</f:format.raw>
                    </div>
                </div>
            </div>
        </f:for>
    </div>
</html>